<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"/>
  <meta name="description" content="Vind direct de goedkoopste brandstofprijzen bij jou in de buurt in heel Nederland. Euro 95, Euro 98, Diesel en LPG."/>
  <title>TankNu - Goedkoopste Tankstations</title>
  <link rel="icon" type="image/svg+xml" href="assets/favicon.svg">
  <link rel="stylesheet" href="assets/css/style.css" />
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#1e40af">
</head>
<body>
  <div class="container">
    <div class="header">
      <div class="header-top">
        <div class="logo">
          <img class="logo-icon" src="assets/favicon.svg" alt="TankNu logo" />
          <div class="logo-text">
            <span class="logo-tank">Tank</span><span class="logo-nu">Nu</span>
          </div>
        </div>
        <button class="help-button" id="helpOpenBtn" aria-label="Uitleg en instructies">
          ?
        </button>
      </div>
      <div class="logo-tagline tagline">
        Altijd op zoek naar de goedkoopste tankstations
      </div>
    </div>

    <div class="tabs">
      <button class="tab active" data-tab="nearby">
        <span class="tab-icon">üìç</span>
        <span class="tab-label">Bij mij</span>
      </button>
      <button class="tab" data-tab="nationwide">
        <span class="tab-icon">üèÜ</span>
        <span class="tab-label">Landelijk</span>
      </button>
      <button class="tab" data-tab="data">
        <span class="tab-icon">üìä</span>
        <span class="tab-label">Prijsdata</span>
      </button>
    </div>

    <div id="nearby-tab" class="tab-content active">
      <div class="card">
        <div class="form-group">
          <label>Jouw locatie</label>
          <div class="location-status" id="locationStatus">
            <span class="icon">‚è≥</span>
            <span>Locatie ophalen...</span>
          </div>
          <div class="manual-location">
            <input id="manualLocationInput" type="text" placeholder="Typ straat, plaats of postcode" aria-label="Voer locatie in" />
            <div id="locationSuggestions" class="suggestions" role="listbox" aria-label="Suggesties"></div>
          </div>
        </div>

        <div class="form-group">
          <label for="fuelType">Brandstoftype</label>
          <select id="fuelType">
            <option value="EURO95">Euro 95 (E10)</option>
            <option value="EURO98">Euro 98 (E5)</option>
            <option value="DIESEL">Diesel (B7)</option>
            <option value="AUTOGAS">Autogas (LPG)</option>
          </select>
        </div>

        <div class="form-group">
          <label for="radius">
            Zoekradius
            <span class="slider-value" id="radiusValue">10 km</span>
          </label>
          <input type="range" id="radius" min="5" max="50" value="10" step="5">
        </div>

        <button class="btn btn-primary" id="searchBtn">
          Zoek goedkoopste stations
        </button>
        <p id="nearbyUpdated" class="updated-text"></p>
      </div>

      <div id="nearbyResults"></div>
    </div>

    <div id="nationwide-tab" class="tab-content">
      <div class="info-box">
        <strong>Top landelijk:</strong> De absolute goedkoopste tankstations in heel Nederland.
      </div>

      <div class="card">
        <div class="form-group">
          <label for="nationwideFuelType">Brandstoftype</label>
          <select id="nationwideFuelType">
            <option value="EURO95">Euro 95 (E10)</option>
            <option value="EURO98">Euro 98 (E5)</option>
            <option value="DIESEL">Diesel (B7)</option>
            <option value="AUTOGAS">Autogas (LPG)</option>
          </select>
        </div>

        <div class="form-group">
          <label for="limitSlider">
            Aantal resultaten
            <span class="slider-value" id="limitValue">20</span>
          </label>
          <input type="range" id="limitSlider" min="10" max="50" value="20" step="5">
        </div>

        <button class="btn btn-primary" id="nationwideBtn">
          Toon goedkoopste landelijk
        </button>
        <p id="nationwideUpdated" class="updated-text"></p>
      </div>

      <div id="nationwideResults"></div>
    </div>

    <div id="data-tab" class="tab-content">
      <div class="card">
        <div class="form-group">
          <label for="dataFuelType">Brandstoftype</label>
          <select id="dataFuelType">
            <option value="EURO95">Euro 95 (E10)</option>
            <option value="EURO98">Euro 98 (E5)</option>
            <option value="DIESEL">Diesel (B7)</option>
            <option value="AUTOGAS">Autogas (LPG)</option>
          </select>
        </div>

        <button class="btn btn-primary" id="loadDataBtn">
          Laad prijshistorie
        </button>
      </div>

      <div id="currentPriceCard" class="card" style="display: none;">
        <h3 class="card-title">Huidige gemiddelde prijs</h3>
        <div class="current-price-display">
          <div class="price-large" id="currentAvgPrice">-</div>
          <div class="price-meta" id="currentPriceMeta">-</div>
        </div>
      </div>

      <div id="chartCard" class="card" style="display: none;">
        <h3 class="card-title">Prijsontwikkeling (laatste 30 dagen)</h3>
        <canvas id="priceChart"></canvas>
      </div>

      <div id="dataResults"></div>
    </div>
  </div>

  <div class="help-overlay" id="helpOverlay" aria-hidden="true">
    <div class="help-panel">
      <button class="help-close" id="helpCloseBtn" aria-label="Sluiten">
        ‚úï
      </button>

      <div class="help-content">
        <h2 class="help-title">Wat is TankNu.nl?</h2>
        <p class="help-text">
          TankNu.nl laat je direct zien waar je het goedkoopst kunt tanken. 
          In de buurt of landelijk. Je kiest je brandstof, 
          geeft een straal of een maximum aantal resultaten op en krijgt dan een lijst met tankstations inclusief prijs per liter, afstand en meteen een routeknop om er naartoe te navigeren.
        </p>

        <h3 class="help-section">Hoe gebruik ik het?</h3>
        <ul class="help-list">
          <li><strong>Bij mij</strong>: zoekt de goedkoopste stations in jouw buurt (op basis van je locatie of handmatig ingevoerde plaats).</li>
          <li><strong>Landelijk</strong>: toont de absolute goedkoopste tankstations in NL, voor het geselecteerde type brandstof.</li>
          <li><strong>Prijsdata</strong>: laat de gemiddelde landelijke prijs zien en een grafiek van de prijsontwikkeling van de afgelopen 30 dagen.</li>
        </ul>

        <h3 class="help-section">App op je beginscherm zetten</h3>
        <div class="install-instructions">
          <p><strong>iPhone / iOS (Safari):</strong></p>
          <ol>
            <li>Open deze site in Safari.</li>
            <li>Tik op het deel-icoon (vierkantje met pijltje omhoog).</li>
            <li>Kies <em>Zet op beginscherm</em>.</li>
            <li>Bevestig. Je hebt nu een eigen TankNu icoon zoals een app üì±.</li>
          </ol>

          <p><strong>Android (Chrome):</strong></p>
          <ol>
            <li>Open deze site in Chrome.</li>
            <li>Tik op de ‚ãÆ (menu rechtsboven).</li>
            <li>Kies <em>App installeren</em> of <em>Toevoegen aan startscherm</em>.</li>
            <li>Bevestig. Vervolgens vind je TankNu gewoon tussen je apps.</li>
          </ol>
        </div>
      </div>

      <footer class="help-footer">
        Gemaakt door
        <a class="help-credit" href="https://stijnvandepol.nl" target="_blank" rel="noopener">
          Stijn van de Pol
        </a>
      </footer>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  <script src="assets/js/app.js" defer></script>
</body>
</html>